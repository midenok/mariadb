set system_versioning_alter_history=keep;
create or replace table t (a int);
alter table t add system versioning, ALTER_TYPE;
Got one of the listed errors
alter table t add system versioning, lock=shared;
alter table t add column b int, change column a a int without system versioning, ALTER_TYPE;
alter table t drop system versioning, ALTER_TYPE;
create or replace table t (
a int, b int,
row_start SYS_DATATYPE as row start invisible,
row_end SYS_DATATYPE as row end invisible,
period for system_time (row_start, row_end)
) with system versioning;
insert into t values (1, 0);
insert into t values (2, 0);
delete from t where a = 2;
alter table t drop column b, ALTER_TYPE;
alter table t add index idx(a), ALTER_TYPE;
select a, check_row(row_start, row_end) from t for system_time all order by a;
a	check_row(row_start, row_end)
1	CURRENT ROW
2	HISTORICAL ROW
drop database test;
create database test;
