--source include/have_partition.inc
create or replace table t1 (
  x int primary key auto_increment,
  t timestamp(6) default '2001-11-11 11:11:11',
  b blob(4096) compressed null,
  c varchar(1033) character set utf8 not null,
  u int unique,
  m enum('a', 'b', 'c') not null default 'a' comment 'absolute',
  i1 tinyint, i2 smallint, i3 bigint,
  index three(i1, i2, i3),
  v1 timestamp(6) generated always as (t + interval 1 day),
  v2 timestamp(6) generated always as (t + interval 1 month) stored,
  s timestamp(6) as row start,
  e timestamp(6) as row end,
  period for system_time (s, e),
  ps date, pe date,
  period for app_time (ps, pe),
  constraint check_constr check (u > -1))
with system versioning default charset=ucs2
partition by system_time interval 1 hour auto_increment (
    partition p2 history,
    partition pn current);
alter table t1 add partition (partition x1 history, partition x2 history, partition x3 history);
show create table t1;
drop tables t1;
